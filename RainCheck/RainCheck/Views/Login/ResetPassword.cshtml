
@{
    Layout = null;
}

<!DOCTYPE html>

<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>ResetPassword</title>

    <script src="~/Script/jquery-1.10.2.min.js"></script>
    <script src="~/Script/jquery.validate.min.js"></script>
</head>


<body>
    <script type="text/javascript">
        $(document).ready(function () {
            $('#ResetPasswordBtn').click(function () {
                // validation for new password
                // following code works too. need ViewData or tempdata to pass error message.
                /*
                if ($('#NewPasswordTextBox').val().length == 0) { // required field validation
                    //debugger;
                    alert("in validation");
                    $('#messageForNewPassword').html("New password required");
                    $('#messageForNewPassword').css('color', 'red');
                }

                // validation for confirm password
                if ($('#ConfirmPasswordTextBox').val().length == 0) { // required field validation
                    $('#messageForConfirmPassword').text("Confirm password required");
                    $('#messageForConfirmPassword').css('color', 'red');
                }
                */
                $('#ResetPasswordForm').validate({
                    rules: {
                        NewPassword: {
                            required: true,
                            minlength: 3,
                            maxlength: 20

                        },

                        ConfirmPassword: {
                            required: true,
                            minlength: 3,
                            maxlength: 20,
                            equalTo: "#NewPasswordTextBox"
                        }


                    },

                    messages: {
                        NewPassword: {
                            required: "New password required",
                            minlength: "Password should be at least 3 character",
                            maxlength: "Password should be at most 20 character"
                        },
                        ConfirmPassword: {
                            required: "Confirm password required",
                            equalTo: "Confirm passowrd not match!"
                        }
                    },
                    errorClass:"myErrorClass"
                });

            });            
        });

    </script>
    <style>     
        .myErrorClass
        {
            color:#FF0000;  /* red */
        }
        

    </style>
    <div> 
        reset password
    </div>
    <form id="ResetPasswordForm" action="ResetPassword" method="post">
        <div>
            <span style="color:red">@TempData["Message"]</span>
            <table>
                <tr>
                    <td><label for="NewPassword">New Passwor:</label></td>
                    <td><input name="NewPassword" id="NewPasswordTextBox" type="text" placeholder="New password" /></td>
                </tr>
                <tr>
                    <td></td>
                    <td id="messageForNewPassword" style="color:red;"></td>
                </tr>
                <tr>
                    <td>Confirm Password:</td>
                    <td><input name="ConfirmPassword" id="ConfirmPasswordTextBox" type="text" placeholder="Confirm passowrd" /></td>
                </tr>
                <tr>
                    <td></td>
                    <td id="messageForConfirmPassword"></td>
                </tr>
            </table>
        </div>
        <div class="SubmitBox">
            <input id="ResetPasswordBtn" type="submit" value="Reset Password" />
        </div>
        <div class="returnToLogin">
            <a href="../Login/LoginPage">Return to login page</a>
        </div>
    </form>
</body>
</html>
